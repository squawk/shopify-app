{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Banner, Card, DisplayText, Form, FormLayout, Frame, Layout, Page, PageActions, TextField, Toast, Heading } from '@shopify/polaris';\nimport store from 'store-js';\nimport gql from 'graphql-tag';\nimport { Context } from '@shopify/app-bridge-react';\nimport { Mutation } from 'react-apollo';\nimport { useMutation } from '@apollo/react-hooks';\nconst UPDATE_METAFIELD = gql`\n  mutation productUpdate($input: ProductInput!) {\n    producUpdate(input: $input) {\n      product {\n       id\n      }\n      userErrors{\n          field\n          message\n      }\n    }\n  }\n`;\nexport default function EditProduct() {\n  state = {\n    discount: '',\n    description: '',\n    price: '',\n    variantId: '',\n    showToast: false\n  };\n  const app = this.context;\n  const item = store.get('item');\n  console.log('this is the thing', item);\n  const {\n    name,\n    description,\n    price,\n    discount,\n    variantId\n  } = this.state;\n  return __jsx(Mutation, {\n    mutation: UPDATE_METAFIELD\n  }, (handleSubmit, {\n    error,\n    data\n  }) => {\n    const showError = error && __jsx(Banner, {\n      status: \"critical\"\n    }, error.message);\n\n    const showToast = data && data.productVariantUpdate && __jsx(Toast, {\n      content: \"Sucessfully updated\",\n      onDismiss: () => this.setState({\n        showToast: false\n      })\n    });\n\n    return __jsx(Frame, null, __jsx(Page, null, __jsx(Layout, null, showToast, __jsx(Layout.Section, null, __jsx(DisplayText, {\n      size: \"extraLarge\"\n    }, \"Section 1 for \", item != undefined && item.title), __jsx(DisplayText, {\n      size: \"small\"\n    }, \"The Header of your product pages is the most important section as it\\u2019s the first thing a visitor sees. You have less than 3 seconds to get their attention to read more. You have to make it count!\"), __jsx(DisplayText, {\n      size: \"small\"\n    }, \"Every product solves a problem. You need to identify what problem the product solves. Then you need to identify what someone is feeling who has this problem. (Sad, annoyed, frustrated, jealous)\"), __jsx(DisplayText, {\n      size: \"small\"\n    }, \"Then you need the visitor to realize you solve that problem they have.\"), __jsx(DisplayText, {\n      size: \"small\"\n    }, \"This is done in the headline. Asking if someone has that problem with a question is one of the best ways to hit the pain point someone has who needs your product.\"), showError), __jsx(Layout.Section, null, __jsx(DisplayText, {\n      size: \"large\"\n    }, name), __jsx(Form, null, __jsx(Card, {\n      sectioned: true\n    }, __jsx(FormLayout, null, __jsx(FormLayout.Group, null, __jsx(TextField, {\n      prefix: \"\",\n      value: description,\n      onChange: this.handleChange('description'),\n      label: \"What is a question you could ask someone?\",\n      type: \"price\",\n      helpText: \"Examples: Have dandruff? Feeling tired or sluggish? Sick Of Zits? Got Back Pain?\"\n    })), __jsx(FormLayout.Group, null, __jsx(TextField, {\n      prefix: \"\",\n      value: description,\n      label: \"In one sentence describe the outcome of using your product.\",\n      type: \"price\",\n      helpText: \"Examples:  \\u201CLook and feel your best in less than 24 hours!\\u201D \\u201CGrow the beard of your dreams.\\u201D \\u201CSay goodbye to pain without needing surgery.\\u201D\"\n    })), __jsx(FormLayout.Group, null, __jsx(TextField, {\n      prefix: \"\",\n      value: description,\n      label: \"Do you have a YouTube video selling the product?\",\n      type: \"price\",\n      helpText: \"If not, leave blank.\"\n    })))), __jsx(PageActions, {\n      primaryAction: [{\n        content: 'Save',\n        onAction: () => {\n          const productVariableInput = {\n            id: variantId,\n            price: discount\n          };\n          handleSubmit({\n            variables: {\n              input: productVariableInput\n            }\n          });\n        }\n      }] // secondaryActions={[\n      //     {\n      //         content: 'Remove discount'\n      //     }\n      // ]}\n\n    }))))));\n  }); // handleChange = (field) => {\n  //     return (value) => this.setState({ [field]: value });\n  // };\n  // itemToBeConsumed = () => {\n  //     const item = store.get('item');\n  //     const price = item.variants.edges[0].node.price;\n  //     const variantId = item.variants.edges[0].node.id;\n  //     const discounter = price * 0.1;\n  //     this.setState({ price, variantId });\n  //     return (price - discounter).toFixed(2);\n  // };\n}","map":{"version":3,"sources":["/Users/lucasvanskyhawk/code/shopify-app-v1/pages/edit-products.js"],"names":["React","useState","Banner","Card","DisplayText","Form","FormLayout","Frame","Layout","Page","PageActions","TextField","Toast","Heading","store","gql","Context","Mutation","useMutation","UPDATE_METAFIELD","EditProduct","state","discount","description","price","variantId","showToast","app","context","item","get","console","log","name","handleSubmit","error","data","showError","message","productVariantUpdate","setState","undefined","title","handleChange","content","onAction","productVariableInput","id","variables","input"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {\n    Banner,\n    Card,\n    DisplayText,\n    Form,\n    FormLayout,\n    Frame,\n    Layout,\n    Page,\n    PageActions,\n    TextField,\n    Toast,\n    Heading\n} from '@shopify/polaris';\nimport store from 'store-js';\nimport gql from 'graphql-tag';\nimport { Context } from '@shopify/app-bridge-react';\n\nimport { Mutation } from 'react-apollo';\nimport { useMutation } from '@apollo/react-hooks';\n\nconst UPDATE_METAFIELD = gql`\n  mutation productUpdate($input: ProductInput!) {\n    producUpdate(input: $input) {\n      product {\n       id\n      }\n      userErrors{\n          field\n          message\n      }\n    }\n  }\n`;\n\nexport default function EditProduct() {\n\n\n\n    state = {\n        discount: '',\n        description: '',\n        price: '',\n        variantId: '',\n        showToast: false,\n    };\n\n\n    const app = this.context;\n    const item = store.get('item');\n\n    console.log('this is the thing', item);\n    const { name, description, price, discount, variantId } = this.state;\n    return (\n        <Mutation\n            mutation={UPDATE_METAFIELD}\n        >\n            {(handleSubmit, { error, data }) => {\n                const showError = error && (\n                    <Banner status=\"critical\">{error.message}</Banner>\n                );\n                const showToast = data && data.productVariantUpdate && (\n                    <Toast\n                        content=\"Sucessfully updated\"\n                        onDismiss={() => this.setState({ showToast: false })}\n                    />\n                );\n\n                return (\n                    <Frame>\n                        <Page>\n                            <Layout>\n\n                                {showToast}\n\n                                <Layout.Section>\n                                    <DisplayText size='extraLarge'>Section 1 for {item != undefined && item.title}</DisplayText>\n                                    <DisplayText size=\"small\">The Header of your product pages is the most important section as it’s the first thing a visitor sees. You have less than 3 seconds to get their attention to read more. You have to make it count!</DisplayText>\n                                    <DisplayText size=\"small\">Every product solves a problem. You need to identify what problem the product solves. Then you need to identify what someone is feeling who has this problem. (Sad, annoyed, frustrated, jealous)</DisplayText>\n                                    <DisplayText size=\"small\">Then you need the visitor to realize you solve that problem they have.</DisplayText>\n                                    <DisplayText size=\"small\">This is done in the headline. Asking if someone has that problem with a question is one of the best ways to hit the pain point someone has who needs your product.</DisplayText>\n                                    {showError}\n                                </Layout.Section>\n                                <Layout.Section>\n\n                                    <DisplayText size=\"large\">{name}</DisplayText>\n                                    <Form>\n                                        <Card sectioned>\n                                            <FormLayout>\n                                                {/* <h3> What is a question you could ask someone?</h3> */}\n                                                <FormLayout.Group>\n                                                    <TextField\n                                                        prefix=\"\"\n                                                        value={description}\n                                                        onChange={this.handleChange('description')}\n\n                                                        label=\"What is a question you could ask someone?\"\n                                                        type=\"price\"\n                                                        helpText=\"Examples: Have dandruff? Feeling tired or sluggish? Sick Of Zits? Got Back Pain?\"\n\n                                                    />\n                                                </FormLayout.Group>\n                                                <FormLayout.Group>\n                                                    <TextField\n                                                        prefix=\"\"\n                                                        value={description}\n\n                                                        label=\"In one sentence describe the outcome of using your product.\"\n                                                        type=\"price\"\n                                                        helpText=\"Examples:  “Look and feel your best in less than 24 hours!” “Grow the beard of your dreams.” “Say goodbye to pain without needing surgery.”\"\n\n                                                    />\n\n                                                    {/* <TextField\n                                                            prefix=\"\"\n                                                            value={discount}\n                                                            onChange={this.handleChange('discount')}\n                                                            label=\"Discounted price\"\n                                                            type=\"discount\"\n                                                        /> */}\n                                                </FormLayout.Group>\n                                                <FormLayout.Group>\n                                                    <TextField\n                                                        prefix=\"\"\n                                                        value={description}\n\n                                                        label=\"Do you have a YouTube video selling the product?\"\n                                                        type=\"price\"\n                                                        helpText=\"If not, leave blank.\"\n\n                                                    />\n\n                                                    {/* <TextField\n                                                            prefix=\"\"\n                                                            value={discount}\n                                                            onChange={this.handleChange('discount')}\n                                                            label=\"Discounted price\"\n                                                            type=\"discount\"\n                                                        /> */}\n                                                </FormLayout.Group>\n\n                                            </FormLayout>\n                                        </Card>\n                                        <PageActions\n                                            primaryAction={[\n                                                {\n                                                    content: 'Save',\n                                                    onAction: () => {\n                                                        const productVariableInput = {\n                                                            id: variantId,\n                                                            price: discount,\n                                                        };\n                                                        handleSubmit({\n                                                            variables: { input: productVariableInput },\n                                                        });\n                                                    }\n                                                }\n                                            ]}\n                                        // secondaryActions={[\n                                        //     {\n                                        //         content: 'Remove discount'\n                                        //     }\n                                        // ]}\n                                        />\n                                    </Form>\n                                </Layout.Section>\n                            </Layout>\n                        </Page>\n                    </Frame>\n                );\n            }}\n        </Mutation>\n    );\n\n\n    // handleChange = (field) => {\n    //     return (value) => this.setState({ [field]: value });\n    // };\n\n    // itemToBeConsumed = () => {\n    //     const item = store.get('item');\n    //     const price = item.variants.edges[0].node.price;\n    //     const variantId = item.variants.edges[0].node.id;\n    //     const discounter = price * 0.1;\n    //     this.setState({ price, variantId });\n    //     return (price - discounter).toFixed(2);\n    // };\n}\n\n"]},"metadata":{},"sourceType":"module"}